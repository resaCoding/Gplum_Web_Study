<!DOCTYPE html>
<html lang="ko">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="style=dwidth: evice-style, width: initial-scale=1.0">
        <title>Gplum</title>

        <link rel="stylesheet" href="/css/reset.css" />
        <link rel="stylesheet" href="/css/common.css" />
        <link rel="stylesheet" href="/css/style.css" />
    </head>

    <body>
        <div id="root">
            <div class="class-header">
                <div class="class-title">
                    <p class="info">
                        <span class="grade M_1">중 3-1</span><span class="book">개념서</span>
                        <span class="unit">Ⅱ. 일차부등식</span>
                    </p>
                    <h1>3. 일차부등식의 활용(2)</h1>
                    <a href="main.html">나가기</a>
                </div>
                <div class="class-nav">
                    <ul>
                        <li class="concept">
                            <button>개념 강의 보기</button>
                            <button class="btn-list"></button>
                            <ul class="class-list">
                                <li><a href="#">일차부등식의 활용 - 평균/도형 [개념]</a></li>
                                <li><a href="#">일차부등식의 활용 - 평균/도형 [예제]</a></li>
                                <li><a href="#">일차부등식의 활용 – 최대 개수/유리한 방법 [개념]</a></li>
                                <li class="lock"><a href="#">일차부등식의 활용 – 최대 개수/유리한 방법 [예제]</a></li>
                                <li class="lock"><a href="#">일차부등식의 활용 – 농도 [개념]</a></li>
                                <li class="lock"><a href="#">일차부등식의 활용 – 농도 [예제]</a></li>
                            </ul>
                        </li>
                        <li><button>Self-Check</button></li>
                        <li class="playing"><button>개념 확인하기</button></li>
                        <li class="lock"><button>오답 클리닉</button></li>
                        <li class="lock"><button>개념 설명하기</button></li>
                    </ul>
                </div>
            </div>
            <div class="class-concept">
                <div class="float-left concept-left">
                    <div class="header-table">
                        <table>
                            <colgroup>
                                <col style="width: 70px;">
                                <col style="width: auto;">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>번호</th>
                                    <th>나의 답</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                    <div class="scroll-y">
                        <table>
                            <colgroup>
                                <col style="width: 70px;">
                                <col style="width: auto;">
                            </colgroup>
                            <thead>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <button class="number" value="01">1</button>
                                    </td>
                                    <td>
                                        <button class="checked">①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="02">2</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="03">3</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="04">4</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <!-- 문제 틀렸을 때 -->
                                <tr class="wrong checked">
                                    <td>
                                        <button class="number" value="05">5</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <!-- 문제 맞혔을 때 -->
                                <tr class="correct">
                                    <td>
                                        <button class="number" value="06">6</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="07">7</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="08">8</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="09">9</button>
                                    </td>
                                    <td>
                                        <input type="text"><span>(m)</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="10">10</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="11">11</button>
                                    </td>
                                    <td>
                                        <!-- 분수 정답 입력 -->
                                        <div class="fraction">
                                            <input type="text">
                                            <div>
                                                <input type="text">
                                                <span class="line"></span>
                                                <input type="text">
                                            </div>
                                            <p>단위</p>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="checked">
                                    <td>
                                        <button class="number" value="12">12</button>
                                    </td>
                                    <td>
                                        <button>①</button>
                                        <button>②</button>
                                        <button>③</button>
                                        <button>④</button>
                                        <button>⑤</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <!-- OX퀴즈 OMR -->
                        <!-- <table>
                            <colgroup>
                                <col style="width: 70px;">
                                <col style="width: auto;">
                            </colgroup>
                            <thead>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <button class="number" value="01">1</button>
                                    </td>
                                    <td>
                                        <button class="checked o"></button>
                                        <button class="x unchecked"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="02">2</button>
                                    </td>
                                    <td>
                                        <button class="o checked"></button>
                                        <button class="x unchecked"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="03">3</button>
                                    </td>
                                    <td>
                                        <button class="o checked"></button>
                                        <button class="x unchecked"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="04">4</button>
                                    </td>
                                    <td>
                                        <button class="o unchecked"></button>
                                        <button class="x checked"></button>
                                    </td>
                                </tr>
                                <tr class="checked">
                                    <td>
                                        <button class="number" value="05">5</button>
                                    </td>
                                    <td>
                                        <button class="o checked"></button>
                                        <button class="x unchecked"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="06">6</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="07">7</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="08">8</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="09">9</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="10">10</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <button class="number" value="11">11</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                                <tr class="checked">
                                    <td>
                                        <button class="number" value="12">12</button>
                                    </td>
                                    <td>
                                        <button class="o"></button>
                                        <button class="x"></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table> -->
                    </div>
                    <div class="concept-footer">
                        <!-- <button type="submit" class="concept-submit btn-white-border">모두 정답</button>
                        <button type="submit" class="concept-submit btn-white-border">모두 오답</button> -->
                        <button type="submit" class="concept-submit btn-orange">답안 제출</button>
                    </div>
                </div>
                <div class="float-left concept-right">
                    <button class="arrow"></button>
                    <button class="arrow" disabled></button>
                    <div>
                        <div class="concept-top">
                            <div class="concept-header">
                                <p class="multiple">다음을 계산하시오.</p>
                                <div>
                                    <p class="num">12</p>
                                </div>
                                <p class="unit">덧셈의 계산 법칙</p>
                            </div>
                            <div class="concept-content">
                                <img src="" alt="문제">
                            </div>
                            <div class="concept-answer">
                                <ul>
                                    <li>
                                        <button>
                                            <span>①</span><img src="" alt="1번 선지">
                                        </button>

                                    </li>
                                    <li>
                                        <button class="checked">
                                            <span>②</span><img src="" alt="2번 선지">
                                        </button>

                                    </li>
                                    <li>
                                        <button>
                                            <span>③</span><img src="" alt="3번 선지">
                                        </button>
                                    </li>
                                    <li>
                                        <button>
                                            <span>④</span><img src="" alt="4번 선지">
                                        </button>

                                    </li>
                                    <li>
                                        <button>
                                            <span>⑤</span><img src="" alt="5번 선지">
                                        </button>

                                    </li>
                                </ul>

                                <!-- 주관식 입력 -->
                                <!-- <div>
                                        <input type="text"><span>(m²)</span>
                                    </div> -->

                                <!-- 문제 해설 -->
                                <!-- <div class="concept-explain">
                                        <p>
                                            <span>정답</span><span>④</span>
                                        </p>
                                        <img src="" alt="해설 이미지">
                                    </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            
            let ListBtn = document.querySelector('.btn-list')
            function listOn(){
                let concept = document.querySelector('.concept')
                concept.classList.toggle('active')
            }
            ListBtn.addEventListener('click', listOn)

            // 정답 클릭한 버튼

            let answerBtn = document.querySelectorAll('.class-concept td button')

            for(let i = 0; i < answerBtn.length; i++) {
                answerBtn[i].addEventListener('click', checkOn)
            }

            function checkOn(clicked) {
                let btn = clicked.currentTarget;
                let tr = btn.parentNode.parentNode;
                let sibBtn = tr.querySelectorAll('button')
                if(!btn.classList.contains('watch') && !btn.classList.contains('fix') && !btn.classList.contains('number')) {
                    if(btn.classList.contains('o')||btn.classList.contains('x')) {
                        for(let i = 0; i < sibBtn.length; i++) {
                            sibBtn[i].classList.remove('checked')
                            sibBtn[i].classList.add('unchecked')
                        }
                        btn.classList.remove('unchecked')
                        btn.classList.add('checked')
                    } else {
                        for(let i = 0; i < sibBtn.length; i++) {
                            sibBtn[i].classList.remove('checked')
                        }
                        btn.classList.add('checked')
                    }
                }

                leftToRight(clicked);
            }
            // 오른쪽 눌렀을 때

            let rightBtn = document.querySelectorAll('.concept-answer button')

            function rightCheck(clicked) {
                let btn = clicked.currentTarget;
                for(let i = 0; i < rightBtn.length; i++) {
                    rightBtn[i].classList.remove('checked')
                }
                btn.classList.add('checked')

                checkTogether(clicked)
            }

            function checkTogether(clicked) {
                let btn = clicked.currentTarget;
                let btnIndex = Array.from(rightBtn).indexOf(btn);
                let rightNum = document.querySelector('.num').innerText;
                let leftNum = document.querySelectorAll('.number');
                let leftValue = [];

                for (let i = 0; i < leftNum.length; i++) {
                    leftValue.push(leftNum[i].value)
                }
                for (let i = 0; i < leftNum.length; i++) {
                    let tr = leftNum[i].parentNode.parentNode;
                    let tdBtn = leftNum[i].parentNode.nextElementSibling.children;
                    
                    if (leftValue[i] == rightNum) {
                        tr.classList.add('checked')

                        for(let j = 0; j < tdBtn.length; j++) {
                            tdBtn[j].classList.remove('checked')
                        }
                        tdBtn[btnIndex].classList.add('checked')

                    } else {
                        tr.classList.remove('checked')
                    }
                }
            }

            for(let i = 0; i < rightBtn.length; i++) {
                rightBtn[i].addEventListener('click', rightCheck)
            }

            // 왼쪽 누르면 오른쪽

            function leftToRight(clicked) {
                let btn = clicked.currentTarget;
                let sibBtn = btn.parentNode.children;
                let btnIndex = Array.from(sibBtn).indexOf(btn);
                let rightNum = document.querySelector('.num').innerText;
                
                if (!btn.classList.contains('watch') && !btn.classList.contains('fix') && !btn.classList.contains('number') && btn.parentNode.previousElementSibling.firstElementChild.innerText == rightNum) {
                    for(let i = 0; i < rightBtn.length; i++) {
                        rightBtn[i].classList.remove('checked')
                    }
                    rightBtn[btnIndex].classList.add('checked')
                }
            }

            let numberBtn = document.querySelectorAll('.number');

            for(let i = 0; i < numberBtn.length; i++) {
                numberBtn[i].style.height = numberBtn[i].parentElement.clientHeight + 'px';
            }

            const omrHeight = ()=> {
                const tableWrap = document.querySelector('.concept-left .scroll-y')
                const table = tableWrap.querySelector('table')

                if (table.clientHeight < 501) {
                    tableWrap.style.height = "auto"
                }
            }

            omrHeight();


        </script>
    </body>

</html>